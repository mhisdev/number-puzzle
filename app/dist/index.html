<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/svg+xml" href="number-puzzle.svg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Number puzzle</title>
  <script type="module" crossorigin>
var N=Object.defineProperty;var D=(t,e,a)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var y=(t,e,a)=>(D(t,typeof e!="symbol"?e+"":e,a),a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))h(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const S of i.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&h(S)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function h(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();class z{constructor(e){y(this,"startTime");y(this,"intervalId");y(this,"callback");this.callback=e,this.startTime=0,this.intervalId=0}start(){this.clear(),this.startTime=new Date().getTime(),this.intervalId=setInterval(this.callback,100)}stop(){this.intervalId!==0&&this.clear()}getElapsedTime(){return new Date().getTime()-this.startTime}clear(){clearInterval(this.intervalId),this.intervalId=0}}const P=2e3,o="display-none";let r=4,m=16,f,L,l,v,d,c=[],s=m-1,u,C=[],g,x=0,T,M,p;function B(){A();for(let t=0;t<m;t++){const e=document.createElement("div");e.classList.add("tile"),e.classList.add(`tile-${r}`),e.dataset.titleId=t.toString(),f.appendChild(e),c.push(e)}b()}function A(){c.forEach(t=>f.removeChild(t)),c=[]}function b(){for(let t=0;t<m-1;t++)w(t,t+1);I(m-1),$(),l.classList.add(o),v.classList.add(o),d.innerText="Reset",x=0,g.classList.remove(o),p.classList.remove(o),k(),M.start()}function $(){for(let t=0;t<P;t++)G()}function G(){const t=R(),e=Math.floor(Math.random()*t.length);O(t[e])}function R(){const t=[];return E(s,"right")||t.push(s+1),E(s,"bottom")||t.push(s+r),E(s,"left")||t.push(s-1),E(s,"top")||t.push(s-r),t}function w(t,e){c[t].innerText=e.toString(),c[t].classList.remove("dark","light","blank"),c[t].classList.add(e%2?"light":"dark")}function I(t){c[t].innerText="",c[t].classList.remove("dark","light"),c[t].classList.add("blank"),s=t}function E(t,e){return e==="right"?t%r===r-1:e==="bottom"?t+r>=m:e==="left"?t%r===0:e==="top"?t-r<0:!1}function W(t){if(t===s)return;let e=j(t);if(e!==0){for(;s!==t;)O(s+e);x++,k(),_()&&q()}}function j(t){return t%r===s%r?t<s?-r:r:Math.floor(t/r)===Math.floor(s/r)?t<s?-1:1:0}function O(t){w(s,parseInt(c[t].innerText)),I(t)}function H(t){r=t,m=t*t}function _(){for(let t=0;t<m-1;t++)if(parseInt(c[t].innerText)!==t+1)return!1;return!0}function q(){T.classList.remove(o),u.classList.add(o),l.classList.remove("overlay-solid",o),l.classList.add("overlay-transparent"),d.innerText="Play again",M.stop()}function k(){g.innerText=`Moves: ${x}`}function F(){l.classList.remove("overlay-transparent"),l.classList.add("overlay-solid"),v.classList.remove(o),T.classList.add(o),u.classList.remove(o),d.innerText="Start",g.classList.add(o),p.classList.add(o)}function K(t){f=document.createElement("div"),f.classList.add("grid"),t.appendChild(f),l=document.createElement("div"),l.classList.add("overlay","overlay-solid"),f.appendChild(l),v=document.createElement("div"),v.classList.add("heading-container"),v.innerHTML="<h1>Number Puzzle</h1>",l.appendChild(v),u=document.createElement("div"),u.classList.add("options-container"),l.appendChild(u),u.innerHTML="<h2>Select grid size:</h2>";const e=["Small 4x4","Medium 6x6","large 8x8"],a=[4,6,8];e.forEach((h,n)=>{const i=document.createElement("button");i.innerText=h,i.classList.add("btn-option"),i.dataset.optionId=a[n].toString(),n===0&&i.classList.add("active"),u.appendChild(i),C.push(i)}),T=document.createElement("div"),T.innerHTML='<h2 class="win">WINNER!</h2>',l.appendChild(T),T.classList.add(o),L=document.createElement("div"),L.classList.add("hud"),t.appendChild(L),d=document.createElement("button"),d.classList.add("btn-action"),d.innerText="Start",L.appendChild(d),p=document.createElement("div"),p.classList.add("timer",o),p.innerText="Timer: 0:00",L.appendChild(p),g=document.createElement("div"),g.classList.add("moves"),L.appendChild(g)}function U(){f.addEventListener("click",t=>{const e=t.target;if(e.classList.contains("tile")){const a=parseInt(e.dataset.titleId||"");W(a)}else if(e.classList.contains("btn-option")){C.forEach(h=>h.classList.remove("active")),e.classList.add("active");const a=parseInt(e.dataset.optionId||"");H(a)}}),d.addEventListener("click",()=>{const t=d.innerText.toLowerCase();t==="start"?(B(),b()):t==="reset"?b():t==="play again"&&F()})}function V(){const t=M.getElapsedTime()/1e3,e=Math.floor(t%60),a=Math.floor(t/60);Y(a,e)}function Y(t,e){p.innerText=`Timer: ${t}:${e<10?"0":""}${e}`}function J(t){K(t),U(),M=new z(V)}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("app");t&&J(t)});

</script>
  <style>
*{margin:0;padding:0;box-sizing:border-box}body{background-color:#f4f4f4;font-family:Arial,sans-serif;margin:20px 0 0;padding:0;font-size:16px;line-height:1.5}.container{min-width:800px;width:100%;margin:0 auto;padding:0 20px}#app{width:600px;margin:0 auto;display:flex;flex-wrap:wrap}.grid{position:relative;width:576px;height:576px;background-color:#2e2e2e;display:flex;flex-wrap:wrap;padding:10px;box-sizing:content-box}.overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:1}.overlay-solid{background-color:#131317}.overlay-transparent{background-color:#131317;opacity:.8}.overlay h1{color:#eff0f4;font-size:3rem;margin:20px;padding:0}.win{font-size:3.75rem;color:#eff0f4}.radio-container{color:#eff0f4}.hud{width:100%;display:flex;justify-content:space-between;align-items:center}.tile{background-color:#131317;border:solid 1px #131317;box-sizing:border-box;border-radius:4px;display:flex;justify-content:center;align-items:center;font-weight:700;color:#eff0f4;-webkit-user-select:none;user-select:none}.tile-4{width:144px;height:144px;font-size:80px}.tile-6{width:96px;height:96px;font-size:48px}.tile-8{width:72px;height:72px;font-size:36px}.light{background-color:#eff0f4;color:#131317}.dark{background-color:#bd2229;color:#eff0f4}.grid .light,.grid .dark{cursor:pointer}.btn-action{padding:10px 20px;margin:10px;background-color:#198754;color:#eff0f4;border:none;border-radius:4px;font-size:1.5rem;cursor:pointer;min-width:148px}.btn-action:hover,.btn-action:active{background-color:#115c39}.moves,.timer{color:#131317;font-size:1.5rem;margin:0 10px}.options-container{text-align:center}.options-container button{display:block;font-size:1.5rem;cursor:pointer;margin:10px 0;padding:10px;width:100%;background-color:#131317;color:#eff0f4;border:4px solid #1f212c;transition:border-color .2s ease-in-out}.options-container button:hover{border-color:#484f69}.options-container button.active{border-color:#b3b7ca}.options-container h2{padding:0;margin:20px 0;color:#eff0f4}.display-none{display:none}

</style>
</head>

<body>
  <div class="container">
    <div id="app"></div>
  </div>
</body>

</html>